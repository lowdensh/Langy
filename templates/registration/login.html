{% extends "base.html" %}
{% block title %}Login | Langy{% endblock %}
{% load static %}
{% load crispy_forms_tags %}

{% block content %}

<div class="container">
    <form method="post" action="{% url 'login' %}">
        {% csrf_token %}

        <!-- Logo -->
        <div class="row mt-5 justify-content-center">
            <div class="col-lg-5 text-center">
                <img src="{% static 'images/langy.svg' %}" width="80%">
            </div>
        </div>

        <!-- Errors -->
        {% if next %}
            {% if user.is_authenticated %}
            <div class="form-row mt-5 justify-content-center">
                <div class="form-group col-lg-5 text-center alert alert-danger" role="alert">
                    Your account doesn't have access to this page.<br>
                    To proceed, please login with an account that has access.
                </div>
            </div>
            {% else %}
            <div class="form-row mt-5 justify-content-center">
                <div class="form-group col-lg-5 text-center alert alert-danger" role="alert">
                    Please login to see this page.
                </div>
            </div>
            {% endif %}
        {% endif %}

        <!-- Form -->
        <div class="form-row mt-5 justify-content-center">
            <div class="form-group col-lg-5">
                {{ form|crispy }}
            </div>
        </div>
        <div class="form-row mt-3 justify-content-center">
            <div class="form-group col-lg-5 text-center">
                <input type="submit" class="btn btn-success btn-lg" value="Login" />
                <input type="hidden" name="next" value="{{ next }}" />
            </div>
        </div>

        <!-- Text links -->
        <div class="form-row mt-5 justify-content-center">
            <div class="form-group col-lg-5 text-center">
                <p><a href="{% url 'password_reset' %}">Lost password?</a></p>
                <p><a href="{% url 'users:sign_up' %}">Sign up</a></p>
            </div>
        </div>

    </form>
</div>
  
{% endblock %}
